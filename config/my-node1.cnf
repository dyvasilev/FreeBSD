#
# This group is read both by the client and the server
# use it for options that affect everything, see
# https://mariadb.com/kb/en/configuring-mariadb-with-option-files/#option-groups
#
[client]
user = root
port = 3307
socket = /tmp/mysql-node1.sock
#
# include *.cnf from the config directory
#
#!includedir /usr/local/etc/mysql/conf.d/
[mysqld]
# Genrtal settings
user = mysql
datadir = /var/db/mysql-node1
socket = /tmp/mysql-node1.sock
port = 3307
bind-address = 127.0.0.1
skip-name-resolve

default_storage_engine = InnoDB
binlog_format = ROW
innodb_autoinc_lock_mode = 2
query_cache_size = 0
pid-file = /var/db/mysql-node1/mysql-node1.pid

# Galera Settings
wsrep_on = ON
wsrep_provider = /usr/local/lib/libgalera_smm.so
wsrep_cluster_name = "galera_cluster"
wsrep_cluster_address=gcomm://127.0.0.1:4567

#Node Sepcifics
wsrep_node_name = "node1"
wsrep_node_address = "127.0.0.1:4567"
wsrep_provider_options = "gmcast.listen_addr=tcp://127.0.0.1:4567"
# SST Method
wsrep_sst_method = rsync
wsrep_sst_auth = "sstuser:yourpassword"

# InnoDB optimizations
innodb_flush_log_at_trx_commit = 2
innodb_buffer_pool_size = 512M
log_error = /var/log/mysql/mysql-node1.err


